<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Form -->
    <div id="login-container" class="login-container">
        <div class="login-form">
            <h1>Random login test page</h1>
            <form id="login-form">
                <label for="password">Textbox1:</label>
                <input type="password" id="password" required>
                <div class="show-password-container">
                    <input type="checkbox" id="show-password" class="show-password-checkbox">
                    <label for="show-password" class="show-password-label">Show</label>
                </div>
                <label for="username">Textbox2:</label>
                <input type="password" id="username" required>
                <div class="show-password-container">
                    <input type="checkbox" id="show-username" class="show-password-checkbox">
                    <label for="show-username" class="show-password-label">Show</label>
                </div>
                <button type="submit">Login</button>
            </form>
            <div id="login-error" class="login-error"></div>
        </div>
    </div>

    <!-- Expense Tracker App (Hidden initially) -->
    <div id="app-container" class="app-container" style="display: none;">
        <div class="header-container">
            <h1>Expense Tracker</h1>
            <div id="total-expenses-container">
                <h2>Total Expenses: <span id="total-expenses">0.00</span> PHP</h2>
            </div>
            <button id="logout-btn" class="logout-btn">Logout</button>
        </div>
        <div class="filter-container">
            <label for="month-filter">Filter by Month:</label>
            <select id="month-filter"></select>
            <label for="user-filter">Filter by User:</label>
            <select id="user-filter">
                <option value="ALL">ALL</option>
                <option value="Franz">Franz</option>
                <option value="Mhai">Mhai</option>
            </select>
            <button id="refresh-btn" class="refresh-btn">Refresh Data</button>
            <button id="export-btn" class="export-btn">Export to CSV</button>
        </div>
        <form id="expense-form">
            <label for="description">Description:</label>
            <input type="text" id="description" required>
            <label for="amount">Amount (PHP):</label>
            <input type="number" id="amount" step="0.01" inputmode="numeric" pattern="[0-9]*" required>
            <label for="source">Source:</label>
            <select id="source" required>
                <option value="BDO - Franz(Savings)">BDO - Franz(Savings)</option>
                <option value="BDO - Franz & Mhai(Passbook)">BDO - Franz & Mhai(Passbook)</option>
                <option value="BPI - Franz(Checkng)">BPI - Franz(Checkng)</option>
                <option value="BPI - Franz(Savings)">BPI - Franz(Savings)</option>
                <option value="BPI - Franz & Rose">BPI - Franz & Rose</option>
                <option value="Security Bank - Franz(Savings)">Security Bank - Franz(Savings)</option>
                <option value="Unionbank - Mhai(Savings)">Unionbank - Mhai(Savings)</option>
                <option value="E-wallet GCASH Franz">E-wallet GCASH Franz</option>
                <option value="E-wallet GCASH Mhai">E-wallet GCASH Mhai</option>
                <option value="E-wallet PAYMAYA Franz">E-wallet PAYMAYA Franz</option>
                <option value="Cash" selected>Cash</option>
                <option value="Credit Card - BDO UnionPay">Credit Card - BDO UnionPay</option>
                <option value="Credit Card - Security Bank Mhai">Credit Card - Security Bank Mhai</option>
                <option value="Credit Card - Others">Credit Card - Others</option>
            </select>
            <button type="submit">Add Expense</button>
        </form>
        <h2>Expenses</h2>
        <table id="expense-table">
            <thead>
                <tr>
                    <th>Description</th>
                    <th class="sortable-amount">Amount (PHP)</th>
                    <th>Source</th>
                    <th class="sortable">Date Added</th>
                    <th>User</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="expense-table-body">
                <!-- Expense rows will be inserted here by JavaScript -->
            </tbody>
        </table>

        <!-- Edit Modal -->
        <div id="edit-modal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h2>Edit Expense</h2>
                <form id="edit-expense-form">
                    <input type="hidden" id="edit-expense-id">
                    <label for="edit-description">Description:</label>
                    <input type="text" id="edit-description" required>
                    <label for="edit-amount">Amount (PHP):</label>
                    <input type="number" id="edit-amount" step="0.01" inputmode="numeric" pattern="[0-9]*" required>
                    <label for="edit-source">Source:</label>
                    <select id="edit-source" required>
                        <!-- Options will be populated by JS -->
                    </select>
                    <div class="modal-buttons">
                        <button type="submit">Update Expense</button>
                        <button type="button" id="cancel-edit-button">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>